cmake_minimum_required(VERSION 3.16.3)
project(HOG)
set(CMAKE_CXX_STANDARD 20)
if(SSP)
    message("compiling ssp")
else()
    message("compiling sk")
endif()

set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -O3 -DDEBUG -g")
if(SSP)
    set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DSSP")
else()
    set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DSK")
endif()
set(EXECUTABLE_OUTPUT_PATH ${CMAKE_BINARY_DIR}/bin)

include_directories(./include)
add_subdirectory(apsphog)
# target_include_directories(apsphog PUBLIC ./include)
# add_executable(HOG ./src/HOG-SKx.cpp ./src/Aho-Corax.cpp ./tests/testQueries.cpp ./src/timer.cpp)
if(SSP)
    add_executable(HOG ./src/HOG-SSP.cpp ./src/Aho-Cora.cpp ./src/EHOG.cpp ./tests/testHOG.cpp ./src/timer.cpp)
else()
    add_executable(HOG ./src/HOG-SK.cpp ./src/Aho-Cora.cpp ./src/EHOG.cpp ./tests/testHOG.cpp ./src/timer.cpp)
endif()

target_link_libraries(HOG apsphog)